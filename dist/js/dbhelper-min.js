class DBHelper{static get DATABASE_URL(){return"http://localhost:1337"}static fetchRestaurants(t){return fetch(`${this.DATABASE_URL}/restaurants`,{method:"GET"}).then(t=>t.json()).then(e=>{console.log(e),t(null,e)})}static fetchRestaurantById(t,e){DBHelper.fetchRestaurants((s,a)=>{if(s)e(s,null);else{const s=a.find(e=>e.id==t);s?e(null,s):e("Restaurant does not exist",null)}})}static fetchRestaurantByCuisine(t,e){DBHelper.fetchRestaurants((s,a)=>{if(s)e(s,null);else{const s=a.filter(e=>e.cuisine_type==t);e(null,s)}})}static fetchRestaurantByNeighborhood(t,e){DBHelper.fetchRestaurants((s,a)=>{if(s)e(s,null);else{const s=a.filter(e=>e.neighborhood==t);e(null,s)}})}static fetchRestaurantByCuisineAndNeighborhood(t,e,s){DBHelper.fetchRestaurants((a,r)=>{if(a)s(a,null);else{let a=r;"all"!=t&&(a=a.filter(e=>e.cuisine_type==t)),"all"!=e&&(a=a.filter(t=>t.neighborhood==e)),s(null,a)}})}static fetchNeighborhoods(t){DBHelper.fetchRestaurants((e,s)=>{if(e)t(e,null);else{const e=s.map((t,e)=>s[e].neighborhood),a=e.filter((t,s)=>e.indexOf(t)==s);t(null,a)}})}static fetchCuisines(t){DBHelper.fetchRestaurants((e,s)=>{if(e)t(e,null);else{const e=s.map((t,e)=>s[e].cuisine_type),a=e.filter((t,s)=>e.indexOf(t)==s);t(null,a)}})}static fetchReviewByRestaurantId(t,e){return fetch(`${this.DATABASE_URL}/reviews/?restaurant_id=${t}`,{method:"GET"}).then(t=>t.json()).then(t=>{e(t)})}static postReview(t,e){return fetch(`${this.DATABASE_URL}/reviews/`,{method:"POST",body:JSON.stringify(t)}).then(t=>t.json()).then(t=>{e(t)})}static toggleFavorite(t,e,s){return fetch(`${this.DATABASE_URL}/restaurants/${t}/?is_favorite=${e}`,{method:"PUT"}).then(t=>t.json()).then(t=>{s(t)})}static updateFavorite(t,e){e.is_favorite?(t.setAttribute("aria-label",`Remove ${e.name} from favorites`),t.style.backgroundImage=`url(${DBHelper.favoriteSVG()})`):(t.setAttribute("aria-label",`Add ${e.name} to favorites`),t.style.backgroundImage=`url(${DBHelper.notFavoriteSVG()})`)}static urlForRestaurant(t){return`./restaurant.html?id=${t.id}`}static imageUrlForRestaurant(t){return`/dist/img/${t.photograph}.webp`}static notFavoriteSVG(){return"/icons/like-outline.svg"}static favoriteSVG(){return"/icons/like-fill.svg"}static mapMarkerForRestaurant(t,e){return new google.maps.Marker({position:t.latlng,url:DBHelper.urlForRestaurant(t),map:e,icon:"http://maps.google.com/mapfiles/ms/icons/blue-dot.png",title:t.name,animation:google.maps.Animation.DROP})}}